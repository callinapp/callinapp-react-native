Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var subscriptions={};var defaultScope='APP';var subscribe=function subscribe(eventName,callback){var scope=arguments.length>2&&arguments[2]!==undefined?arguments[2]:defaultScope;if(!subscriptions[eventName]){subscriptions[eventName]={};}if(!subscriptions[eventName][scope]){subscriptions[eventName][scope]=[];}subscriptions[eventName][scope].push(callback);};var subscribeOnce=function subscribeOnce(eventName,callback){var scope=arguments.length>2&&arguments[2]!==undefined?arguments[2]:defaultScope;var onceCallback=function onceCallback(){unsubscribe(eventName,onceCallback,scope);callback.apply(void 0,arguments);};subscribe(eventName,onceCallback,scope);};var unsubscribe=function unsubscribe(eventName){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var scope=arguments.length>2&&arguments[2]!==undefined?arguments[2]:defaultScope;if(!subscriptions[eventName]||!subscriptions[eventName][scope]||subscriptions[eventName][scope].length===0){return;}if(!callback){subscriptions[eventName][scope]=[];return;}var callBackIndex=subscriptions[eventName][scope].findIndex(function(c){return c===callback;});if(callBackIndex>=0){subscriptions[eventName][scope].splice(callBackIndex,1);}if(subscriptions[eventName][scope].length===0){delete subscriptions[eventName][scope];}if(Object.keys(subscriptions[eventName]).length===0){delete subscriptions[eventName];}};var unsubscribeAll=function unsubscribeAll(eventName){delete subscriptions[eventName];};var emit=function emit(eventName,err,data){var scope=arguments.length>3&&arguments[3]!==undefined?arguments[3]:defaultScope;if(!subscriptions[eventName]){return false;}if(!subscriptions[eventName][scope]||subscriptions[eventName][scope].length===0){return false;}subscriptions[eventName][scope].forEach(function(handler){handler(err,data);});return true;};var _default={subscribe:subscribe,subscribeOnce:subscribeOnce,unsubscribe:unsubscribe,unsubscribeAll:unsubscribeAll,emit:emit};exports.default=_default;